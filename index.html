<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <meta name="description" content="">
    <link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/APP_ID">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="master.css">
    <title>Voice</title>
</head>
<body>
    <meta name="google" value="notranslate">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Voice</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <label class="no-browser-support" hidden="true">Sorry, Your Browser Doesn't Support the Web Speech API. Try Opening This Demo In Google Chrome.</label>
            </div>
        </div>
        <hr>
        <div class="app">
            <div class="input-single">
                <div class="form-group">
                    <textarea class="form-control" id="note-textarea" placeholder="Fale alguma coisa para poder adicionar na API" rows="6"></textarea>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <button type="button" class="btn btn-outline-success" id="start-record-btn" title="Start Recording">Iniciar Reconhecimento</button>
            </div>
            <div class="col-md-6">
                <button type="button" class="btn btn-outline-danger" id="pause-record-btn" title="Pause Recording" onclick="Validation.enviar()">Parar Reconhecimento</button>
            </div>
        </div>
    </div>
    <script type="text/javascript" charset="utf-8" async defer>
        class Validation {
            static enviar() {
                $.ajax({
                    url: 'https://api.wit.ai/message',
                        data: {
                        'q':  $('#note-textarea').val().q_validation(),
                        'access_token' : 'KVK4NH345RMGO4FW7U7U3PBYWPTOY2XS'
                        },
                        dataType: 'jsonp',
                        method: 'GET',
                        success: function(response) {
                            console.log("success!", response);
                        }
                });  
            }
            static q_validation(text) {
                return (text.length > 255 || text.length < 0) ? 'null' : text;
            }   
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="script.js"></script>
</body>
</html>